[%- PROCESS 'html/head.tmpl' 
	title_tag = "$organisation Packages Search"
	page_title = "$organisation Packages Search"
	keywords = "$organisation, Packages"
	html_meta = '<meta name="verify-v1" content="Rg2bDR1kWPGd8k8v9NOgnmtUQHO6UaKX2glZWVDptok=">'
-%]
[%-
    all_suites_real = [ 'warty', 'hoary', 'breezy', 'edgy', 'feisty', 'gutsy', ]
    all_suites = []
    version_numbers = { 
			warty => '4.10',
			hoary => '5.04',
			breezy => '5.10',
			dapper => '6.06LTS',
			edgy => '6.10',
			feisty => '7.04',
			gutsy => '7.10',
			hardy  => '8.04LTS',
			intrepid => '8.10',
			jaunty => '9.04',
		      }
    current_release = 'gutsy'
    all_sections = [ 'main', 'multiverse', 'restricted', 'universe' ]
    all_architectures = [ 'i386', 'amd64', 'powerpc' ];
    FOREACH s IN all_suites_real;
    SET all_suites = all_suites.import([s, "$s-updates", "$s-backports"]);
    END
-%]

<p>This site provides you with information about all the packages
available in the <a href="[% project_homepage %]">[% organisation %]</a>
Package archive.

<p><em>Please contact <a href="mailto:[% admin.mail %]">[% admin.name %]</a>
if you encounter any problems!</em></p>

<h2>Browse through the lists of packages:</h2>

<ul style="font-size:large">
[% FOREACH s IN all_suites %]
<li><a href="[% s %]/">[% s %]</a>
[% IF version_numbers.$s %]([% version_numbers.$s %])[% END %]</li>
[% END %]
</ul>

<h2>Search</h2>

<h3>Search package directories</h3>

<form method="GET" action="/search">
<label for="kw">Keyword:</label>
<input type="text" size="30" name="keywords" id="kw">
<input type="submit" value="Search"> <input type="reset" value="Reset">
<br>
Search on:
<input type="radio" name="searchon" value="names" id="onlynames" checked="checked">
<label for="onlynames">Package names only</label>&nbsp;&nbsp;
<input type="radio" name="searchon" value="all" id="descs">
<label for="descs">Descriptions</label>

<input type="radio" name="searchon" value="sourcenames" id="src">
<label for="src">Source package names</label>
<br>
Only show exact matches:
<input type="checkbox" name="exact" value="1">
<br>
Distribution:
<select name="suite">
[% FOREACH s IN all_suites %]
  <option value="[% s %]" [% 'selected="selected"' IF s == current_release %]>[% s %]</option>
[% END %]
  <option value="all">any</option>
</select>
Section:
<select name="section">
[% FOREACH s IN all_sections %]
  <option value="[% s %]">[% s %]</option>
[% END %]
  <option value="all" selected="selected">any</option>
</select>
</form>
<p>There are shortcuts for some searches available:</p>
<ul>
      <li><code>[% packages_homepage %]<var>name</var></code> for
      the search on package names.</li>

      <li><code>[% packages_homepage %]src:<var>name</var></code>
      for the search on source package names.</li>
</ul>
<hr>

<h3><a name="search_contents">Search the contents of packages</a></h3>

<P>This search engine allows you to search the contents of [% organisation %]
distributions for any files (or just parts of file names) that are
part of packages.
You can also get a full list of files in a given package.
<br>
<form method="GET" action="/search">
<input type="hidden" name="searchon" value="contents">

<label for="keyword">Keyword:</label>
<input type="text" size="30" name="keywords" id="keyword"> &nbsp;

<input type="submit" value="Search">
&nbsp;<input type="reset" value="Reset">
<br>
Display:
<br>
<input type="radio" name="mode" value="exactfilename" id="exactfilename" checked="checked">
  <label for="exactfilename">packages that contain files named like this</label>
<br>
<input type="radio" name="mode" value="" id="suffixpathname">
  <label for="suffixpathname">packages that contain files whose names end with the keyword</label>
<br>
<input type="radio" name="mode" value="filename" id="filename">
  <label for="filename">packages that contain files whose names contain the keyword</label>
<br>
<label for="distro">Distribution:</label>

<select name="suite" id="distro">
[% FOREACH s IN all_suites %]
  <option value="[% s %]" [% 'selected="selected"' IF s == current_release %]>[% s %]</option>
[% END %]
</select>
<label for="architecture">Architecture:</label>
<select name="arch" id="architecture">
[% FOREACH a IN all_architectures %]
  <option value="[% a %]">[% a %]</option>
[% END %]
  <option value="any" selected="selected">any</option>
</select>
</form>

[% PROCESS 'html/foot.tmpl'
	langs.size = 0
	copyright.years = '1997 - 2008' %]
